plugins {
    id 'application'
}


application {
    mainClass.set('btools.server.BRouter')

    jar {
        manifest {
            attributes "Main-Class": getMainClass(), "Implementation-Version": project.version
        }
    }
    task fatJar(type: Jar) {
        manifest.from jar.manifest
        classifier = 'all'
        from {
            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
        } {
            exclude "META-INF/*.SF"
            exclude "META-INF/*.DSA"
            exclude "META-INF/*.RSA"
        }
        with jar
    }
}

dependencies {
    testImplementation 'junit:junit:4.13.1' 
	
    implementation project(':brouter-util')
    implementation project(':brouter-core')
    implementation project(':brouter-mapaccess')

}
